{"version":3,"sources":["../../src/controllers/promotions.js"],"names":["Promotions","db","promocion","create","req","res","body","name","discount","newPromotion","then","promotion","json","catch","err","status","update","id","params","promotionId","where","deletePromotion","destroy","msg","findAllPromotions","findAll","promotions","findById","findOne"],"mappings":"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","file":"promotions.js","sourcesContent":["import db from \"../models\";\nconst Promotions = db.promocion;\n\nconst create = (req, res) => {\n    let { name, discount } = req.body;\n\n    const newPromotion = {\n        name,\n        discount,\n    };\n\n    Promotions.create(newPromotion)\n        .then((promotion) => res.json(promotion))\n        .catch((err) => res.status(500).json({ err }));\n};\n\nconst update = (req, res) => {\n    let { name, discount } = req.body;\n    const id = req.params.promotionId;\n\n    Promotions.update(\n        {\n            name,\n            discount,\n        },\n        { where: { id } }\n    )\n        .then((promotion) => res.status(200).json({ promotion }))\n        .catch((err) => res.status(500).json({ err }));\n};\n\nconst deletePromotion = (req, res) => {\n    const id = req.params.promotionId;\n\n    Promotions.destroy({ where: { id } })\n        .then(() =>\n            res.status.json({ msg: \"Promotion has been deleted successfully!\" })\n        )\n        .catch((err) => res.status(500).json({ msg: \"Failed to delete!\" }));\n};\n\nconst findAllPromotions = (req, res) => {\n    Promotions.findAll()\n        .then((promotions) => {\n            res.json({ promotions });\n        })\n        .catch((err) => res.status(500).json({ err }));\n};\n\nconst findById = (req, res) => {\n    const id = req.params.promotionId;\n\n    Promotions.findOne({\n        where: { id },\n    })\n        .then((promotion) => {\n            res.json({ promotion });\n        })\n        .catch((err) => res.status(500).json({ err }));\n};\n\nexport { create, update, deletePromotion, findAllPromotions, findById };\n"]}