{"version":3,"sources":["../../src/routes/promotion.js"],"names":["module","exports","app","post","passport","authenticate","session","config","accessLevels","admin","create","put","update","delete","deletePromotion","get","findAllPromotions","findById"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAS;AACtBA,QAAIC,IAAJ,CACI,wBADJ,EAEIC,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAFJ,EAGI,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCC,kBAArC,CAHJ;;AAMAR,QAAIS,GAAJ,CACI,8BADJ,EAEIP,mBAASC,YAAT,CAAsB,KAAtB,EAA6B;AACzBC,iBAAS;AADgB,KAA7B,CAFJ,EAKI,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCG,kBAArC,CALJ;;AAQAV,QAAIW,MAAJ,CACI,8BADJ,EAEIT,mBAASC,YAAT,CAAsB,KAAtB,EAA6B;AACzBC,iBAAS;AADgB,KAA7B,CAFJ,EAKI,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCK,2BAArC,CALJ;;AAQAZ,QAAIa,GAAJ,CAAQ,iBAAR,EAA2BC,6BAA3B;;AAEAd,QAAIa,GAAJ,CAAQ,8BAAR,EAAwCE,oBAAxC;AACH,CA1BD","file":"promotion.js","sourcesContent":["import passport from \"passport\";\nimport config from \"../config/config\";\nimport { allowOnly } from \"../services/routesHelper\";\nimport { create, update, deletePromotion, findById, findAllPromotions } from \"../controllers/promotions\";\n\nmodule.exports = (app) => {\n    app.post(\n        \"/api/promotions/create\",\n        passport.authenticate(\"jwt\", { session: false }),\n        allowOnly(config.accessLevels.admin, create)\n    );\n\n    app.put(\n        \"/api/promotions/:promotionId\",\n        passport.authenticate(\"jwt\", {\n            session: false,\n        }),\n        allowOnly(config.accessLevels.admin, update)\n    );\n\n    app.delete(\n        \"/api/promotions/:promotionId\",\n        passport.authenticate(\"jwt\", {\n            session: false,\n        }),\n        allowOnly(config.accessLevels.admin, deletePromotion)\n    );\n\n    app.get(\"/api/promotions\", findAllPromotions);\n\n    app.get(\"/api/promotions/:promotionId\", findById);\n};\n"]}