{"version":3,"sources":["../../src/routes/order.js"],"names":["module","exports","app","post","passport","authenticate","session","config","accessLevels","client","create","put","update","delete","admin","deleteOrder","get","findAllOrders","findById"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AAQAA,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAS;AACtBA,QAAIC,IAAJ,CACI,oBADJ,EAEIC,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAFJ,EAGI,6BAAUC,iBAAOC,YAAP,CAAoBC,MAA9B,EAAsCC,cAAtC,CAHJ;;AAMAR,QAAIS,GAAJ,CACI,sBADJ,EAEIP,mBAASC,YAAT,CAAsB,KAAtB,EAA6B;AACzBC,iBAAS;AADgB,KAA7B,CAFJ,EAKI,6BAAUC,iBAAOC,YAAP,CAAoBC,MAA9B,EAAsCG,cAAtC,CALJ;;AAQAV,QAAIW,MAAJ,CACI,sBADJ,EAEIT,mBAASC,YAAT,CAAsB,KAAtB,EAA6B;AACzBC,iBAAS;AADgB,KAA7B,CAFJ,EAKI,6BAAUC,iBAAOC,YAAP,CAAoBM,KAA9B,EAAqCC,mBAArC,CALJ;;AAQAb,QAAIc,GAAJ,CACI,aADJ,EAEIZ,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAFJ,EAGIW,qBAHJ;;AAMAf,QAAIc,GAAJ,CAAQ,sBAAR,EAAgCE,gBAAhC;AACH,CA9BD","file":"order.js","sourcesContent":["import passport from \"passport\";\nimport config from \"../config/config\";\nimport { allowOnly } from \"../services/routesHelper\";\nimport {\n    create,\n    update,\n    deleteOrder,\n    findById,\n    findAllOrders,\n} from \"../controllers/orders\";\n\nmodule.exports = (app) => {\n    app.post(\n        \"/api/orders/create\",\n        passport.authenticate(\"jwt\", { session: false }),\n        allowOnly(config.accessLevels.client, create)\n    );\n\n    app.put(\n        \"/api/orders/:orderId\",\n        passport.authenticate(\"jwt\", {\n            session: false,\n        }),\n        allowOnly(config.accessLevels.client, update)\n    );\n\n    app.delete(\n        \"/api/orders/:orderId\",\n        passport.authenticate(\"jwt\", {\n            session: false,\n        }),\n        allowOnly(config.accessLevels.admin, deleteOrder)\n    );\n\n    app.get(\n        \"/api/orders\",\n        passport.authenticate(\"jwt\", { session: false }),\n        findAllOrders\n    );\n\n    app.get(\"/api/orders/:orderId\", findById);\n};\n"]}