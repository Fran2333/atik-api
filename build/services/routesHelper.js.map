{"version":3,"sources":["../../src/services/routesHelper.js"],"names":["allowOnly","accessLevel","callback","checkUserRole","req","res","role","user","dataValues","console","log","status","json","msg"],"mappings":";;;;;AAAA,IAAMA,YAAY,SAAZA,SAAY,CAASC,WAAT,EAAsBC,QAAtB,EAAgC;AAC9C,aAASC,aAAT,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAAA,YACrBC,IADqB,GACZF,IAAIG,IAAJ,CAAS,CAAT,EAAYC,UADA,CACrBF,IADqB;;AAE7BG,gBAAQC,GAAR,CAAYT,WAAZ;AACAQ,gBAAQC,GAAR,CAAYJ,IAAZ;AACA,YAAI,EAAEL,cAAcK,IAAhB,CAAJ,EAA2B;AACvBD,gBAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,KAAK,gCAAP,EAArB;AACA;AACH;;AAEDX,iBAASE,GAAT,EAAcC,GAAd;AACH;;AAED,WAAOF,aAAP;AACH,CAdD;;QAgBSH,S,GAAAA,S","file":"routesHelper.js","sourcesContent":["const allowOnly = function(accessLevel, callback) {\n    function checkUserRole(req, res) {\n        const { role } = req.user[0].dataValues;\n        console.log(accessLevel);\n        console.log(role);\n        if (!(accessLevel & role)) {\n            res.status(403).json({ msg: \"You do not have access to this\" });\n            return;\n        }\n\n        callback(req, res);\n    }\n\n    return checkUserRole;\n};\n\nexport { allowOnly };\n"]}