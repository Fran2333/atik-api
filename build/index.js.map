{"version":3,"sources":["../src/index.js"],"names":["app","pool","use","bodyParser","json","port","process","env","PORT","set","express","static","__dirname","models","sequelize","sync","then","console","log","passport","initialize","require","get","req","res","send","server","listen","host","address"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;cACkB,U;IAAVC,I,WAAAA,I;;;AAERD,IAAIE,GAAJ,CAAQ,sBAAO,UAAP,CAAR;AACAF,IAAIE,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;;AAEA,IAAIC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;;AAEA;AACAR,IAAIS,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;;AAEA;AACAT,IAAIE,GAAJ,CAAQQ,kBAAQC,MAAR,CAAeC,YAAY,SAA3B,CAAR;;AAEAZ,IAAIE,GAAJ,CAAQ,qBAAR;;AAEA;AACA;AACAW,iBAAOC,SAAP,CAAiBC,IAAjB,GAAwBC,IAAxB,CAA6B,YAAM;AACjCC,UAAQC,GAAR,CAAY,oCAAZ;AACD,CAFD;;AAIA;AACAlB,IAAIE,GAAJ,CAAQiB,mBAASC,UAAT,EAAR;;AAEA;AACAC,QAAQ,mBAAR,EAA6BF,kBAA7B;;AAEA;AACAnB,IAAIsB,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAcA,IAAIC,IAAJ,CAAS,gBAAT,CAAd;AAAA,CAAb;;AAEAJ,QAAQ,kBAAR,EAA4BrB,GAA5B;AACAqB,QAAQ,qBAAR,EAA+BrB,GAA/B;AACAqB,QAAQ,mBAAR,EAA6BrB,GAA7B;AACAqB,QAAQ,mBAAR,EAA6BrB,GAA7B;AACAqB,QAAQ,oBAAR,EAA8BrB,GAA9B;AACAqB,QAAQ,gBAAR,EAA0BrB,GAA1B;;AAEA;AACA,IAAI0B,SAAS1B,IAAI2B,MAAJ,CAAWtB,IAAX,EAAiB,YAAW;AACvC,MAAIuB,OAAOF,OAAOG,OAAP,GAAiBA,OAA5B;AACA,MAAIxB,OAAOqB,OAAOG,OAAP,GAAiBxB,IAA5B;;AAEAY,UAAQC,GAAR,CAAY,+BAAZ,EAA6CU,IAA7C,EAAmDvB,IAAnD;AACD,CALY,CAAb","file":"index.js","sourcesContent":["import express from \"express\";\nimport passport from \"passport\";\nimport bodyParser from \"body-parser\";\nimport cors from \"cors\";\nimport models from \"./models\";\nimport morgan from 'morgan';\n\nconst app = express();\nconst { pool } = ('./config');\n\napp.use(morgan('combined'));\napp.use(bodyParser.json());\n\nlet port = process.env.PORT || 8080;\n\n// set the view engine to ejs\napp.set(\"view engine\", \"ejs\");\n\n// make express look in the public directory for assets (css/js/img)\napp.use(express.static(__dirname + \"/public\"));\n\napp.use(cors());\n\n// force: true will drop the table if it already exits\n// models.sequelize.sync({ force: true }).then(() => {\nmodels.sequelize.sync().then(() => {\n  console.log(\"Drop and Resync with {force: true}\");\n});\n\n// passport middleware\napp.use(passport.initialize());\n\n// passport config\nrequire(\"./config/passport\")(passport);\n\n//default route\napp.get(\"/\", (req, res) => res.send(\"Hello my World\"));\n\nrequire(\"./routes/user.js\")(app);\nrequire(\"./routes/product.js\")(app);\nrequire(\"./routes/category\")(app);\nrequire(\"./routes/location\")(app);\nrequire(\"./routes/promotion\")(app);\nrequire(\"./routes/order\")(app);\n\n//create a server\nvar server = app.listen(port, function() {\n  var host = server.address().address;\n  var port = server.address().port;\n\n  console.log(\"App listening at http://%s:%s\", host, port);\n});\n"]}