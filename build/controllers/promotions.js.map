{"version":3,"sources":["../../src/controllers/promotions.js"],"names":["Promotions","db","promocion","create","req","res","body","name","discount","description","newPromotion","then","promotion","json","catch","err","status","update","id","params","promotionId","where","deletePromotion","destroy","msg","findAllPromotions","findAll","promotions","findById","findOne"],"mappings":"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","file":"promotions.js","sourcesContent":["import db from \"../models\";\nconst Promotions = db.promocion;\n\nconst create = (req, res) => {\n    let { name, discount, description } = req.body;\n\n    const newPromotion = {\n        name,\n        discount,\n        description,\n    };\n\n    Promotions.create(newPromotion)\n        .then((promotion) => res.json(promotion))\n        .catch((err) => res.status(500).json({ err }));\n};\n\nconst update = (req, res) => {\n    let { name, discount, description } = req.body;\n    const id = req.params.promotionId;\n\n    Promotions.update(\n        {\n            name,\n            discount,\n            description,\n        },\n        { where: { id } }\n    )\n        .then((promotion) => res.status(200).json({ promotion }))\n        .catch((err) => res.status(500).json({ err }));\n};\n\nconst deletePromotion = (req, res) => {\n    const id = req.params.promotionId;\n\n    Promotions.destroy({ where: { id } })\n        .then(() =>\n            res.status.json({ msg: \"Promotion has been deleted successfully!\" })\n        )\n        .catch((err) => res.status(500).json({ msg: \"Failed to delete!\" }));\n};\n\nconst findAllPromotions = (req, res) => {\n    Promotions.findAll()\n        .then((promotions) => {\n            res.json({ promotions });\n        })\n        .catch((err) => res.status(500).json({ err }));\n};\n\nconst findById = (req, res) => {\n    const id = req.params.promotionId;\n\n    Promotions.findOne({\n        where: { id },\n    })\n        .then((promotion) => {\n            res.json({ promotion });\n        })\n        .catch((err) => res.status(500).json({ err }));\n};\n\nexport { create, update, deletePromotion, findAllPromotions, findById };\n"]}