{"version":3,"sources":["../../src/routes/category.js"],"names":["module","exports","app","post","passport","authenticate","session","config","accessLevels","admin","create","put","update","updateAll","get","findAllCategories","findById","findCategoryProductsById"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AASAA,OAAOC,OAAP,GAAiB,eAAO;AACtBC,MAAIC,IAAJ,CACE,sBADF,EAEEC,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAACC,SAAS,KAAV,EAA7B,CAFF,EAGE,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCC,kBAArC,CAHF;;AAMAR,MAAIS,GAAJ,CACE,8BADF,EAEEP,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAACC,SAAS,KAAV,EAA7B,CAFF,EAGE,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCG,kBAArC,CAHF;;AAMAV,MAAIS,GAAJ,CACE,kBADF,EAEEP,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAACC,SAAS,KAAV,EAA7B,CAFF,EAGE,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCI,qBAArC,CAHF;;AAMAX,MAAIY,GAAJ,CAAQ,iBAAR,EAA2BC,6BAA3B;;AAEAb,MAAIY,GAAJ,CAAQ,6BAAR,EAAuCE,oBAAvC;;AAEAd,MAAIY,GAAJ,CAAQ,sCAAR,EAAgDG,oCAAhD;AACD,CAxBD","file":"category.js","sourcesContent":["import passport from 'passport';\nimport config from '../config/config';\nimport {allowOnly} from '../services/routesHelper';\nimport {\n  update,\n  updateAll,\n  create,\n  findById,\n  findAllCategories,\n  findCategoryProductsById,\n} from '../controllers/categories';\n\nmodule.exports = app => {\n  app.post(\n    '/api/category/create',\n    passport.authenticate('jwt', {session: false}),\n    allowOnly(config.accessLevels.admin, create),\n  );\n\n  app.put(\n    '/api/categories/:categoryId/',\n    passport.authenticate('jwt', {session: false}),\n    allowOnly(config.accessLevels.admin, update),\n  );\n\n  app.put(\n    '/api/categories/',\n    passport.authenticate('jwt', {session: false}),\n    allowOnly(config.accessLevels.admin, updateAll),\n  );\n\n  app.get('/api/categories', findAllCategories);\n\n  app.get('/api/categories/:categoryId', findById);\n\n  app.get('/api/categories/:categoryId/products', findCategoryProductsById);\n};\n"]}