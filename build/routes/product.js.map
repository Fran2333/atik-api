{"version":3,"sources":["../../src/routes/product.js"],"names":["module","exports","app","post","passport","authenticate","session","config","accessLevels","admin","create","put","update","delete","deleteProduct","get","findAllProducts","findById"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AAEAA,OAAOC,OAAP,GAAiB,eAAO;AACtBC,QAAIC,IAAJ,CACI,sBADJ,EAEIC,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAFJ,EAGI,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCC,gBAArC,CAHJ;;AAMAR,QAAIS,GAAJ,CACI,0BADJ,EAEIP,mBAASC,YAAT,CAAsB,KAAtB,EAA6B;AACzBC,iBAAS;AADgB,KAA7B,CAFJ,EAKI,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCG,gBAArC,CALJ;;AAQAV,QAAIW,MAAJ,CACI,0BADJ,EAEIT,mBAASC,YAAT,CAAsB,KAAtB,EAA6B;AACzBC,iBAAS;AADgB,KAA7B,CAFJ,EAKI,6BAAUC,iBAAOC,YAAP,CAAoBC,KAA9B,EAAqCK,uBAArC,CALJ;;AAQAZ,QAAIa,GAAJ,CACE,eADF,EAEEC,yBAFF;;AAKAd,QAAIa,GAAJ,CACE,0BADF,EAEEE,kBAFF;AAID,CAhCD","file":"product.js","sourcesContent":["import passport from \"passport\";\nimport config from \"../config/config\";\nimport { allowOnly } from \"../services/routesHelper\";\nimport { create, update, deleteProduct, findById, findAllProducts } from \"../controllers/products\";\n\nmodule.exports = app => {\n  app.post(\n      \"/api/products/create\",\n      passport.authenticate(\"jwt\", { session: false }),\n      allowOnly(config.accessLevels.admin, create)\n  );\n\n  app.put(\n      \"/api/products/:productId\",\n      passport.authenticate(\"jwt\", {\n          session: false,\n      }),\n      allowOnly(config.accessLevels.admin, update)\n  );\n\n  app.delete(\n      \"/api/products/:productId\",\n      passport.authenticate(\"jwt\", {\n          session: false,\n      }),\n      allowOnly(config.accessLevels.admin, deleteProduct)\n  );\n\n  app.get(\n    \"/api/products\",\n    findAllProducts\n  );\n\n  app.get(\n    \"/api/products/:productId\",\n    findById\n  );\n};\n"]}